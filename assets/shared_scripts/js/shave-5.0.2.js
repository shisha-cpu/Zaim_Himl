"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):("undefined"!=typeof globalThis?globalThis:self).shave=e()}(function(){function q(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),l=[];try{for(;(void 0===t||0<t--)&&!(o=i.next()).done;)l.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return l}function T(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||((o=o||Array.prototype.slice.call(t,0,r))[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}return function(e,t,n){if(void 0===n&&(n={}),void 0===t||isNaN(t))throw Error("maxHeight is required");var o="string"==typeof(e=e)?T([],q(document.querySelectorAll(e)),!1):"length"in e?T([],q(e),!1):[e];if(o.length)for(var r=void 0===(e=n.character)?"â€¦":e,i=void 0===(e=n.classname)?"js-shave":e,e=void 0===(e=n.spaces)||e,l=n.charclassname,a=void 0===l?"js-shave-char":l,f=void 0===(l=n.link)?{}:l,c="boolean"!=typeof e||e,s=f&&"{}"!==JSON.stringify(f)&&f.href,d=s?"a":"span",y=0;y<o.length;y+=1){var u=o[y],h=u.style,p=u.querySelector("."+i),m=void 0===u.textContent?"innerText":"textContent",p=(p&&(u.removeChild(u.querySelector("."+a)),u[m]=u[m]),u[m]),v=c?p.split(" "):p;if(!(v.length<2)){var p=h.height,g=(h.height="auto",h.maxHeight);if(h.maxHeight="none",!(u.offsetHeight<=t)){var b,x=s&&f.textContent?f.textContent:r,S=document.createElement(d),j={className:a,textContent:x};for(b in j)S[b]=j[b],S.textContent=r;if(s)for(var C in f)S[C]=f[C];for(var A,E=v.length-1,H=0;H<E;)A=H+E+1>>1,u[m]=c?v.slice(0,A).join(" "):v.slice(0,A),u.insertAdjacentElement("beforeend",S),u.offsetHeight>t?E=A-1:H=A;u[m]=c?v.slice(0,E).join(" "):v.slice(0,E),u.insertAdjacentElement("beforeend",S);var x=c?" ".concat(v.slice(E).join(" ")):v.slice(E),x=document.createTextNode(x),N=document.createElement("span");N.classList.add(i),N.style.display="none",N.appendChild(x),u.insertAdjacentElement("beforeend",N)}h.height=p,h.maxHeight=g}}}});