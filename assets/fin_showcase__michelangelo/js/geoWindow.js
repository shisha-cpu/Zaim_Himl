"use strict";!function(){function o(e){e.stopPropagation()}function t(e){e.preventDefault();var e=$(this).find("[name=region]").val(),n=$(this).find("[name=city]").val();e&&n&&(document.cookie="".concat(encodeURIComponent("lc_user_city_name_ru"),"=").concat(encodeURIComponent(n)),document.cookie="".concat(encodeURIComponent("lc_user_region_iso"),"=").concat(encodeURIComponent(e)),window.location.reload())}window.openGeoWindow=function(e){var c=$(e),e=$("body");c.find(".geo-select__modal").on("click",o),c.find(".geo-select__form").on("submit",t),c.find(".geo-select__input").autoComplete({minChars:2,source:function(e,n){e=e.trim();e&&$.ajax({url:"/api/find_geo/city/".concat(e),success:function(e){n(e)}})},renderItem:function(e){return'\n          <div\n            class="autocomplete-suggestion"\n            data-region="'.concat(e.region.iso,'"\n            data-city="').concat(e.nameRu,'"\n            data-val="').concat(e.nameRu,'"\n          >\n            ').concat(e.nameRu," (").concat(e.region.name,")\n          </div>\n        ")},onSelect:function(e,n,o){var t=o.attr("data-region"),o=o.attr("data-city");c.find(".geo-select__form").find("[name=region]").val(t),c.find(".geo-select__form").find("[name=city]").val(o)}}),c.addClass("_open-geo"),e.addClass("_body-geo-open")},window.disableGeoWindow=function(e){var e=$(e),n=$("body");e.removeClass("_open-geo"),n.removeClass("_body-geo-open"),e.find(".geo-select__modal").unbind("click",o),e.find(".geo-select__form").unbind("submit",t),e.find(".geo-select__input").autoComplete("destroy")},window.openGeoCurrent=function(){var n=document.querySelector("#geo"),o=document.querySelector("#geoCurrent"),e=o.querySelector(".geo__close"),t=o.querySelector("#geoCurrent–°orrectly"),c=o.querySelector("#geoCurrentOther");function i(){o.classList.remove("_open-geo")}e.addEventListener("click",i),t.addEventListener("click",i),c.addEventListener("click",i),document.addEventListener("click",function(e){n.contains(e.target)||o.contains(e.target)||i()}),n.addEventListener("click",function(){o.classList.toggle("_open-geo")})}}();